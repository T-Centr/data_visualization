# data_visualization


## Решение задач
### Задача 1. Выбор типа визуализации.

Загрузите данные по ЕГЭ за последние годы

https://video.ittensive.com/python-advanced/data-9722-2019-10-14.utf.csv

Выберите данные за 2018-2019 учебный год.

Выберите тип диаграммы для отображения результатов по административному 
округу Москвы, постройте выбранную диаграмму для количества школьников, 
написавших ЕГЭ на 220 баллов и выше.

Выберите тип диаграммы и постройте ее для районов Северо-Западного 
административного округа Москвы для количества школьников, написавших 
ЕГЭ на 220 баллов и выше.

### Решение:

Импортируем модули pandas, matplotlib. Для чтения файла используем функцию
read_csv(). Распечатаем заголовок. Т.к. в файле используется разделитель ';',
добавляем параметр delimiter=';'. Преобразуем данные в нужную нам форму,
выделим интересующие нас 2018-2019 годы. Для визуализации используем 
круговую диаграмму.

### Задача 2. Результаты марафона.

Загрузите данные по итогам марафона

https://video.ittensive.com/python-advanced/marathon-data.csv

Приведите время половины и полной дистанции к секундам.

Найдите, данные каких серии данных коррелируют (используя диаграмму 
pairplot в Seaborn).

Найдите коэффициент корреляции этих серий данных, используя 
scipy.stats.pearsonr.

Постройте график jointplot для коррелирующих данных.

### Решение:

Импортируем модули pandas, matplotlib, seaborn, scipy. Загрузим данные с 
помощью функции read_csv. Для того, что бы можно было использовать время,
приведем его к единой величине, используя функцию конвертации времени из 
строки в цифровой формат. Строим парный график, используя пол спортсменов.
Построим корреляционный график для этих переменных и найдем коэффициент
корреляции Пирсена - 0.96.

### Задача 3. Скользящие средние на биржевых графиках.

Используя данные индекса РТС за последние годы

https://video.ittensive.com/python-advanced/rts-index.csv

постройте отдельные графики закрытия (Close) индекса по дням за 2017, 2018,
2019 годы в единой оси X.

Добавьте на график экспоненциальное среднее за 20 дней для значения Max 
за 2017 год.

Найдите последнюю дату, когда экспоненциальное среднее максимального 
дневного значения (Max) в 2017 году было больше, чем соответствующее 
значение Close в 2019 году (это последнее пересечение графика за 2019 
год и графика для среднего за 2017 год).

### Решение:

Подключаем необходимые библиотеки pandas, matplotlib. Загружаем данные.
Преобразуем таблицу данных, отобразив сначала старые данные, а потом
текущие. Переиндексируем данные по годам. Добавим серию данных - день года
для подписи по оси X. Сортируем данные в нужном хронологическом порядке.
Строим графики по годам - 2017 в виде фоновой области, 2018 и 2019 в виде
линий. На графике видно когда значения индекса РТС окончательно превзошли
максимум за 2017 год. Далее найдем точную дату. Отфильтруем данные за 2019
год, когда закрытие дня было больше максимума аналогичного дня за 2017 год.
Выставим индекс по дате, отсортируем по индексу и увидим нужную нам дату - 
19 февраля 2019 г.

### Задача 4. Объекты культурного наследия России.

Изучите набор данных по объектам культурного наследия России 
(в виде gz-архива):

https://video.ittensive.com/python-advanced/data-44-structure-4.csv.gz

и постройте фоновую картограмму по количеству объектов в каждом регионе 
России, используя гео-данные

https://video.ittensive.com/python-advanced/russia.json

Выведите для каждого региона количество объектов в нем.
Посчитайте число объектов культурного наследия в Татарстане.

### Решение:

Подключаем необходимые библиотеки matplotlib, pandas, geopandas. Загружаем
данные. Приведем 'Регион' к верхнему регистру, чтобы регистры регионов в
обоих наборах данных были одинаковыми. Выполним группировку по регионам и
посчитаем количество объектов по каждому региону. Загрузим гео-данные и
выполним слияние основного набора данных и набора гео-данных. После этого
создадим картограмму и нанесем на нее число объектов в каждом регионе.
Далее выведем число объектов в республике Татарстан - 1616.

## Технологии в решениях
Python 3.9,
библиотеки numpy, pandas, geopandas, matplotlib


### Студент
Валерий Калинин